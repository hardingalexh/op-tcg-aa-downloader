server {
    listen 80;

    root /usr/share/nginx/html;

    # Serve the Vue frontend under a path prefix
    location /optcgsim-aa-downloader/ {
        rewrite ^/optcgsim-aa-downloader/(.*)$ /$1 break;
        try_files $uri $uri/ /index.html;
    }

    # Redirect bare path to trailing slash
    location = /optcgsim-aa-downloader {
        return 301 /optcgsim-aa-downloader/;
    }
}
